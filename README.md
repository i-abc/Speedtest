# å¤šåŠŸèƒ½æµ‹é€Ÿè„šæœ¬

å…¼å®¹ [speedtest-cli](https://www.speedtest.net/zh-Hans/apps/cli)ã€[speedtest-go](https://github.com/showwin/speedtest-go)ã€[librespeed-cli](https://github.com/librespeed/speedtest-cli)ã€[iperf3](https://github.com/esnet/iperf)ã€‚

è„šæœ¬è‡ªå¸¦ä¸°å¯Œçš„æµ‹è¯•é¡¹ç›®ä»»å›æŒ‘é€‰ï¼Œä½¿ç”¨è€…è¿˜èƒ½è‡ªå®šä¹‰æƒ³è¦çš„æµ‹è¯•é¡¹ç›®ã€‚

ç›®å½•ï¼šğŸ‘‰ [æ•ˆæœå±•ç¤º](https://github.com/i-abc/Speedtest#æ•ˆæœå±•ç¤º)ã€[ä½¿ç”¨æ–¹æ³•](https://github.com/i-abc/Speedtest#ä½¿ç”¨æ–¹æ³•)ã€[åŸºæœ¬åŠŸèƒ½](https://github.com/i-abc/Speedtest#åŸºæœ¬åŠŸèƒ½)ã€[è¿›é˜¶åŠŸèƒ½](https://github.com/i-abc/Speedtest#è¿›é˜¶åŠŸèƒ½)

# æ•ˆæœå±•ç¤º

<details>

<summary>å¤§é™†ä¸‰ç½‘+æ•™è‚²ç½‘ å¤šçº¿ç¨‹ IPv4 (ç‚¹å‡»å±•å¼€æˆ–æ”¶èµ·)</summary>
 
âœˆï¸ æµ‹è¯•æœåŠ¡å™¨ï¼šAzure ä¸œäº¬
 
```
------------------------ å¤šåŠŸèƒ½ è‡ªæ›´æ–° æµ‹é€Ÿè„šæœ¬ ------------------------
 Version               : v2023-09-04
 Usage                 : bash <(curl -sL bash.icu/speedtest)
 GitHub                : https://github.com/i-abc/speedtest
------------------------------------------------------------------------
å¤§é™†ä¸‰ç½‘+æ•™è‚²ç½‘ IPv4 å¤šçº¿ç¨‹æµ‹é€Ÿï¼Œv2023-09-04
------------------------------------------------------------------------
æµ‹é€ŸèŠ‚ç‚¹            ä¸‹è½½/Mbps      ä¸Šä¼ /Mbps      å»¶è¿Ÿ/ms      æŠ–åŠ¨/ms
ç”µä¿¡ å¤©æ´¥           4764.75 Mbps   960.30 Mbps    51.86 ms     0.13 ms
ç”µä¿¡ ç”˜è‚ƒå…°å·       4136.04 Mbps   958.73 Mbps    63.29 ms     0.31 ms
ç”µä¿¡ å››å·æˆéƒ½       16.05 Mbps     459.07 Mbps    80.58 ms     2.31 ms
ç”µä¿¡ å®‰å¾½åˆè‚¥ 5G    2291.84 Mbps   957.71 Mbps    37.99 ms     0.08 ms
ç”µä¿¡ æµ™æ±Ÿå®æ³¢ 5G    1935.21 Mbps   960.06 Mbps    44.47 ms     1.88 ms
ç”µä¿¡ æ±Ÿè‹é•‡æ±Ÿ 5G    6439.96 Mbps   960.21 Mbps    40.92 ms     0.39 ms
ç”µä¿¡ æ±Ÿè‹è¿äº‘æ¸¯ 5G  5790.42 Mbps   365.68 Mbps    37.26 ms     0.17 ms
ç§»åŠ¨ åŒ—äº¬           2295.33 Mbps   953.58 Mbps    119.86 ms    0.13 ms
ç§»åŠ¨ å››å·æˆéƒ½       1916.11 Mbps   960.06 Mbps    132.76 ms    0.42 ms
ç§»åŠ¨ æµ™æ±Ÿæ­å· 5G    2427.86 Mbps   719.87 Mbps    85.94 ms     0.30 ms
ç§»åŠ¨ é™•è¥¿è¥¿å®‰ 5G    3028.91 Mbps   502.53 Mbps    108.21 ms    0.17 ms
è”é€š æ±Ÿè‹æ— é”¡       2247.38 Mbps   779.37 Mbps    38.67 ms     1.44 ms
è”é€š å››å·æˆéƒ½       30.51 Mbps     31.06 Mbps     70.53 ms     0.24 ms
è”é€š ç¦å»ºç¦å·       4237.51 Mbps     å¤±è´¥         53.61 ms     0.18 ms
è”é€š è¾½å®æ²ˆé˜³       1761.79 Mbps   280.18 Mbps    71.07 ms     0.92 ms
è”é€š æµ·å—ä¸‰äºš       4440.05 Mbps   957.89 Mbps    73.55 ms     0.17 ms
è”é€š æ¹–å—é•¿æ²™ 5G    16.88 Mbps     945.14 Mbps    50.58 ms     0.94 ms
è”é€š æ²³å—éƒ‘å· 5G    2211.21 Mbps   960.74 Mbps    74.24 ms     0.10 ms
æ•™è‚²ç½‘ æ±Ÿè‹å—äº¬     638.73 Mbps    516.97 Mbps    829.45 ms    886.87 ms
æ•™è‚²ç½‘ å®‰å¾½åˆè‚¥     0.00 Mbps      510.21 Mbps    106.45 ms    0.81 ms
------------------------------------------------------------------------
å½“å‰æ—¶é—´ï¼š2023-09-05 19:26:29 CST
åŒ—äº¬æ—¶é—´: 2023-09-05 19:26:29+08:00
------------------------------------------------------------------------
```

</details>

<details>

<summary>å¤§é™†ä¸‰ç½‘ å•çº¿ç¨‹ IPv4</summary>
 
âœˆï¸ æµ‹è¯•æœåŠ¡å™¨ï¼šAzure ä¸œäº¬

```
------------------------ å¤šåŠŸèƒ½ è‡ªæ›´æ–° æµ‹é€Ÿè„šæœ¬ ------------------------
 Version               : v2023-09-04
 Usage                 : bash <(curl -sL bash.icu/speedtest)
 GitHub                : https://github.com/i-abc/speedtest
------------------------------------------------------------------------
å¤§é™†ä¸‰ç½‘ IPv4 å•çº¿ç¨‹æµ‹é€Ÿï¼Œv2023-09-04
------------------------------------------------------------------------
æµ‹é€ŸèŠ‚ç‚¹            ä¸‹è½½/Mbps      ä¸Šä¼ /Mbps      å»¶è¿Ÿ/ms      æŠ–åŠ¨/ms
ç”µä¿¡ å¤©æ´¥           193.86 Mbps    8.00 Mbps      95.13 ms     35.74 ms
ç”µä¿¡ ç”˜è‚ƒå…°å·       14.87 Mbps     8.00 Mbps      151.97 ms    153.26 ms
ç”µä¿¡ å››å·æˆéƒ½       4.39 Mbps      1.65 Mbps      728.97 ms    554.91 ms
ç”µä¿¡ å®‰å¾½åˆè‚¥ 5G    184.33 Mbps    10.47 Mbps     81.30 ms     29.51 ms
ç”µä¿¡ æµ™æ±Ÿå®æ³¢ 5G    220.87 Mbps    13.59 Mbps     316.42 ms    638.03 ms
ç”µä¿¡ æ±Ÿè‹é•‡æ±Ÿ 5G    184.33 Mbps    15.32 Mbps     106.56 ms    149.46 ms
ç”µä¿¡ æ±Ÿè‹è¿äº‘æ¸¯ 5G  220.87 Mbps    17.11 Mbps     58.36 ms     12.69 ms
ç§»åŠ¨ åŒ—äº¬           69.92 Mbps     6.48 Mbps      200.34 ms    93.52 ms
ç§»åŠ¨ å››å·æˆéƒ½       57.20 Mbps     5.73 Mbps      153.29 ms    23.36 ms
ç§»åŠ¨ æµ™æ±Ÿæ­å· 5G    96.93 Mbps     9.60 Mbps      125.33 ms    32.49 ms
ç§»åŠ¨ é™•è¥¿è¥¿å®‰ 5G    85.81 Mbps     6.48 Mbps      151.17 ms    47.80 ms
è”é€š å››å·æˆéƒ½       5.00 Mbps      5.60 Mbps      108.50 ms    43.12 ms
è”é€š ç¦å»ºç¦å·       137.39 Mbps    11.33 Mbps     100.20 ms    47.38 ms
è”é€š è¾½å®æ²ˆé˜³       8.10 Mbps      6.48 Mbps      247.68 ms    83.61 ms
è”é€š æµ·å—ä¸‰äºš       116.00 Mbps    8.87 Mbps      117.02 ms    39.37 ms
è”é€š æ¹–å—é•¿æ²™ 5G    1.66 Mbps      8.07 Mbps      434.11 ms    237.42 ms
è”é€š æ²³å—éƒ‘å· 5G    21.08 Mbps     11.19 Mbps     100.63 ms    35.38 ms
è”é€š/ç”µä¿¡ å®¿è¿ è‡ªå»º   è·³è¿‡         345.00 Mbps     è·³è¿‡         è·³è¿‡
------------------------------------------------------------------------
å½“å‰æ—¶é—´ï¼š2023-09-05 19:35:25 CST
åŒ—äº¬æ—¶é—´: 2023-09-05 19:35:25+08:00
------------------------------------------------------------------------
```

</details>

<details>

<summary>å„å¤§æ´² 128çº¿ç¨‹ IPV4</summary>
 
âœˆï¸ æµ‹è¯•æœåŠ¡å™¨ï¼šDigitalOcean æ—§é‡‘å±±

```
------------------------ å¤šåŠŸèƒ½ è‡ªæ›´æ–° æµ‹é€Ÿè„šæœ¬ ------------------------
 Version               : v2023-09-04
 Usage                 : bash <(curl -sL bash.icu/speedtest)
 GitHub                : https://github.com/i-abc/speedtest
------------------------------------------------------------------------
å¤§æ´² IPv4 ä¸€ç™¾äºŒåå…«çº¿ç¨‹æµ‹é€Ÿï¼Œv2023-09-04
------------------------------------------------------------------------
æµ‹é€ŸèŠ‚ç‚¹            ä¸‹è½½/Mbps      ä¸Šä¼ /Mbps      å»¶è¿Ÿ/ms      æŠ–åŠ¨/ms
ç¾å›½ é˜¿ä»€æœ¬         7434.00 Mbps   1983.00 Mbps    è·³è¿‡         è·³è¿‡
ç¾å›½ äºšç‰¹å…°å¤§       1924.00 Mbps     å¤±è´¥          è·³è¿‡         è·³è¿‡
ç¾å›½ æŸ¥å°”æ–¯é¡¿       8999.00 Mbps   1882.00 Mbps    è·³è¿‡         è·³è¿‡
äºšæ´² ä¹Œå…¹åˆ«å…‹æ–¯å¦   3111.00 Mbps     å¤±è´¥          è·³è¿‡         è·³è¿‡
æ¬§æ´² æŸæ—           5028.00 Mbps   1894.00 Mbps    è·³è¿‡         è·³è¿‡
æ¬§æ´² å“¥æœ¬å“ˆæ ¹       3479.00 Mbps   1245.00 Mbps    è·³è¿‡         è·³è¿‡
æ¬§æ´² é˜¿å§†æ–¯ç‰¹ä¸¹     7379.00 Mbps   1632.00 Mbps    è·³è¿‡         è·³è¿‡
éæ´² æ¯›é‡Œæ±‚æ–¯       3890.00 Mbps   1570.00 Mbps    è·³è¿‡         è·³è¿‡
å¤§æ´‹æ´² æ–°è¥¿å…°       3672.00 Mbps     å¤±è´¥          è·³è¿‡         è·³è¿‡
------------------------------------------------------------------------
å½“å‰æ—¶é—´ï¼š2023-09-05 11:26:30 UTC
åŒ—äº¬æ—¶é—´: 2023-09-05 19:26:30+08:00
------------------------------------------------------------------------
```

</details>

<details>

<summary>IPV4 UDP å¯ç”¨æµ‹è¯•</summary>
 
âœˆï¸ æµ‹è¯•æœåŠ¡å™¨ï¼šAzure ä¸œäº¬

```
------------------------ å¤šåŠŸèƒ½ è‡ªæ›´æ–° æµ‹é€Ÿè„šæœ¬ ------------------------
 Version               : v2023-09-04
 Usage                 : bash <(curl -sL bash.icu/speedtest)
 GitHub                : https://github.com/i-abc/speedtest
------------------------------------------------------------------------
UDP IPv4 å•çº¿ç¨‹æµ‹é€Ÿï¼Œv2023-09-04
æœºæˆ¿UDPé™é€Ÿï¼Œç»“æœä»…ä»£è¡¨UDPæ˜¯å¦å¯ç”¨
------------------------------------------------------------------------
æµ‹é€ŸèŠ‚ç‚¹            ä¸‹è½½/Mbps      ä¸Šä¼ /Mbps      å»¶è¿Ÿ/ms      æŠ–åŠ¨/ms
è”é€š/ç”µä¿¡ å®¿è¿ è‡ªå»º 1.05 Mbps      1.05 Mbps       è·³è¿‡         è·³è¿‡        
ç¾å›½ é˜¿ä»€æœ¬         1.05 Mbps      1.05 Mbps       è·³è¿‡         è·³è¿‡        
ç¾å›½ äºšç‰¹å…°å¤§       1.05 Mbps      1.05 Mbps       è·³è¿‡         è·³è¿‡        
ç¾å›½ æŸ¥å°”æ–¯é¡¿       1.04 Mbps      1.05 Mbps       è·³è¿‡         è·³è¿‡        
------------------------------------------------------------------------
å½“å‰æ—¶é—´ï¼š2023-09-05 20:19:26 CST
åŒ—äº¬æ—¶é—´: 2023-09-05 20:19:26+08:00
------------------------------------------------------------------------
```

</details>

# ä½¿ç”¨æ–¹æ³•

<a target="_blank" href="https://bash.icu/speedtest"><img src="https://img.shields.io/website?url=https%3A%2F%2Fbash.icu%2Fspeedtest&label=bash.icu%2Fspeedtest&cacheSeconds=300" />

```bash
bash <(curl -sL bash.icu/speedtest)
```

æˆ–

```bash
bash <(curl -sL https://raw.githubusercontent.com/i-abc/Speedtest/main/speedtest.sh)
```

# åŸºæœ¬åŠŸèƒ½

è„šæœ¬è‡ªå¸¦ä¸°å¯Œçš„æµ‹è¯•é¡¹ç›®ï¼š

0. [è‡ªå®šä¹‰æµ‹é€ŸèŠ‚ç‚¹](https://github.com/i-abc/Speedtest/tree/main#è¿›é˜¶åŠŸèƒ½)
1.  å¤§é™†ä¸‰ç½‘+æ•™è‚²ç½‘ å¤šçº¿ç¨‹ IPv4
2.  å¤§é™†ä¸‰ç½‘ å•çº¿ç¨‹ IPv4
3.  å¤§é™†æ•™è‚²ç½‘ IPv6
4.  IPV4 UDP å¯ç”¨æµ‹è¯•
5.  å„å¤§æ´² 128çº¿ç¨‹ IPV4
6.  å¤§é™†æ•™è‚²ç½‘ IPv4
7.  å¤§é™†ç”µä¿¡ å¤šçº¿ç¨‹ IPv4
8.  å¤§é™†ç”µä¿¡ å•çº¿ç¨‹ IPv4
9.  å¤§é™†ç§»åŠ¨ å¤šçº¿ç¨‹ IPv4
10. å¤§é™†ç§»åŠ¨ å•çº¿ç¨‹ IPv4
11. å¤§é™†è”é€š å¤šçº¿ç¨‹ IPv4
12. å¤§é™†è”é€š å•çº¿ç¨‹ IPv4
13. å„å¤§æ´² å•çº¿ç¨‹ IPV4
14. å„å¤§æ´² å…«çº¿ç¨‹ IPV4

æŒç»­æ›´æ–°ä¸­â€¦â€¦

# è¿›é˜¶åŠŸèƒ½

è‡ªå®šä¹‰è‡ªå·±æƒ³è¦çš„æµ‹è¯•é¡¹ç›®ï¼Œå¾ˆç®€å•çš„ã€‚

æˆ‘ä»¬ä¼šæœ‰ä¸¤å¼ è¡¨ï¼ŒèŠ‚ç‚¹è¡¨ (å¿…éœ€)ã€èŠ‚ç‚¹é›†åˆè¡¨ (éå¿…éœ€)ã€‚

## èŠ‚ç‚¹è¡¨ (å¿…éœ€)

èŠ‚ç‚¹è¡¨åˆ†ä¸ºå››ä¸ªåŒºåŸŸï¼Œåˆ†åˆ«æ˜¯æç¤ºè¯­åŒºã€æµ‹è¯•ç±»å‹åŒºã€èŠ‚ç‚¹ååŒºã€æµ‹è¯•å‚æ•°åŒºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](https://github.com/i-abc/Speedtest/raw/main/images/1.png)

### ç¤ºä¾‹

```
èŠ‚ç‚¹è¡¨ æ¨¡æ¿ç¤ºä¾‹ï¼Œv2023-09-05
speedtest-cli ,è”é€š éƒ‘å· cli       ,-o 5gtest.shangdu.com
speedtest-go  ,è”é€š éƒ‘å· go        ,--custom-url http://5gtest.shangdu.com:8080/speedtest/upload.php --force-http-ping
speedtest-go  ,è”é€š éƒ‘å· å…«çº¿ç¨‹    ,--custom-url http://5gtest.shangdu.com:8080/speedtest/upload.php --force-http-ping -t 8
speedtest-go  ,è”é€š éƒ‘å· åªæµ‹ä¸Šä¼   ,--custom-url http://5gtest.shangdu.com:8080/speedtest/upload.php --force-http-ping --no-download
librespeed-cli,æ•™è‚² å—äº¬           ,--server-json https://jihulab.com/i-abc/speedtest/-/raw/node/china-education.json --server 1 --no-icmp
librespeed-cli,æ•™è‚² å—äº¬ åªæµ‹ä¸Šä¼   ,--server-json https://jihulab.com/i-abc/speedtest/-/raw/node/china-education.json --server 1 --no-icmp --no-download
iperf3        ,è”é€š å®¿è¿ åªæµ‹ä¸Šä¼   ,-c 103.239.244.210 -p 22222
iperf3        ,è”é€š å®¿è¿ åªæµ‹ä¸‹è½½  ,-c 103.239.244.210 -p 22222 -R
iperf3        ,è”é€š å®¿è¿ å…«çº¿ç¨‹    ,-c 103.239.244.210 -p 22222 -P 8
iperf3        ,è”é€š å®¿è¿ æµ‹UDP     ,-c 103.239.244.210 -p 22222 -u
iperf3        ,è”é€š å®¿è¿ æµ‹åŒå‘    ,-c 103.239.244.210 -p 22222 --up-and-down
```

### 1åŒºï¼šæç¤ºè¯­åŒº (å¯é€‰)

æç¤ºè¯­ä½äºèŠ‚ç‚¹è¡¨å¼€å¤´ï¼Œå¯ä»¥åœ¨è¿™é‡Œå†™ä¸Šä»»ä½•è¯ï¼Œæ¯”å¦‚ä½¿ç”¨è¯´æ˜ã€å¤‡æ³¨ã€è‡ªå®¶å¹¿å‘Šç­‰ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¸å†™ã€‚

### 3åŒºï¼šèŠ‚ç‚¹ååŒº

æ˜¾è€Œæ˜“è§ï¼Œè¿™é‡Œå°±æ˜¯å†™å¯¹åº”èŠ‚ç‚¹çš„åå­—ã€‚

ç”±äºä¸­è‹±æ–‡å­—ç¬¦ç¼–ç å¾ˆéš¾å¤„ç†ï¼Œæ‰€ä»¥å¦‚æœæƒ³è¦è¾“å‡ºç¾è§‚è¿˜å¾—éº»çƒ¦å¤§å®¶æ•²ç©ºæ ¼å¯¹é½ï¼Œå½“ç„¶ä¸å¯¹é½å¯¹æµ‹è¯•æ— å½±å“ã€‚

æç¤ºè¯­åŒºã€èŠ‚ç‚¹ååŒºä¼šç›´æ¥åæ˜ åˆ°è¾“å‡ºï¼Œå®ƒä»¬åœ¨è¾“å‡ºã€èŠ‚ç‚¹è¡¨ä¹‹é—´çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](https://github.com/i-abc/Speedtest/raw/main/images/2.png)

### 2åŒºï¼šæµ‹è¯•ç±»å‹åŒº

æˆ‘ä»¬æœ‰å››ç§ç±»å‹ï¼Œåˆ†åˆ«æ˜¯ [speedtest-cli](https://www.speedtest.net/zh-Hans/apps/cli)ã€[speedtest-go](https://github.com/showwin/speedtest-go)ã€[librespeed-cli](https://github.com/librespeed/speedtest-cli)ã€[iperf3](https://github.com/esnet/iperf)ï¼Œé€‰ä¸€ç§å³å¯ï¼Œæ¯ç§éƒ½æœ‰ä¸åŒçš„ç‰¹ç‚¹ï¼Œå…·ä½“è¯´æ˜è¯·å¾€ä¸‹çœ‹ã€‚

è¿™éƒ¨åˆ†åŠ ç©ºæ ¼å¯¹é½ä¸æ˜¯å¿…é¡»çš„ï¼Œä¸åŠ å¯¹è¾“å‡ºæ— ä»»ä½•å½±å“ï¼Œå½“ç„¶åƒæˆ‘ä¸€æ ·çš„å¼ºè¿«ç—‡å¯ä»¥åŠ ç©ºæ ¼å¯¹é½ã€‚

### 4åŒºï¼šæµ‹è¯•å‚æ•°åŒº

æˆ‘ä»¬è„šæœ¬å…¼å®¹ [speedtest-cli](https://www.speedtest.net/zh-Hans/apps/cli)ã€[speedtest-go](https://github.com/showwin/speedtest-go)ã€[librespeed-cli](https://github.com/librespeed/speedtest-cli)ã€[iperf3](https://github.com/esnet/iperf)ï¼Œæˆ‘æŒ‘é€‰äº†éƒ¨åˆ†å¯¹æµ‹è¯•æœ‰ç”¨çš„å‚æ•°åº”ç”¨åˆ°äº†è„šæœ¬é‡Œï¼Œå¤§å®¶å¯ä»¥æŒ‰éœ€ä½¿ç”¨ã€‚

#### speedtest-cli

[speedtest-cli](https://www.speedtest.net/zh-Hans/apps/cli)ï¼š[speedtest.net](https://www.speedtest.net) å®˜æ–¹ CLIï¼ŒåŠŸèƒ½å•ä¸€ã€‚

 | å‚æ•° | ä½œç”¨         | ç¤ºä¾‹                    |
|----|------------|-----------------------|
| -s value | é€šè¿‡ id æŒ‡å®šèŠ‚ç‚¹ | -s 36646              |
| -o value | é€šè¿‡åŸŸåæŒ‡å®šèŠ‚ç‚¹   | -o 5gtest.shangdu.com |

`-s` å’Œ `-o` äºŒé€‰ä¸€ï¼Œ`-o` åé¢å‚æ•°ä¸ºçº¯åŸŸåï¼Œä¸å« http(s)ã€ç«¯å£å·ï¼›æ¨è `-o`ã€‚

èŠ‚ç‚¹ idã€åŸŸåå¯åœ¨ [https://www.speedtest.net/api/ios-config.php](https://www.speedtest.net/api/ios-config.php) æŸ¥é˜…ã€‚

ä¾‹å¦‚ï¼š`<server url="http://5gtest.shangdu.com:8080/speedtest/upload.php" lat="34.3287" lon="109.0337" name="Zhengzhou" sponsor="China Unicom HeNan 5G" id="36646" />`ï¼Œåˆ™ id ä¸º `36646`ï¼ŒåŸŸåä¸º `5gtest.shangdu.com`ã€‚

#### speedtest-go

[speedtest-go](https://github.com/showwin/speedtest-go)ï¼šé’ˆå¯¹ [speedtest.net](https://www.speedtest.net) å¼€å‘çš„ç¬¬ä¸‰æ–¹ï¼ŒåŠŸèƒ½è¾ƒå¤šï¼Œèƒ½å®ç°æŒ‡å®šçº¿ç¨‹ã€ç¦ç”¨æŸæ–¹å‘æµ‹é€Ÿï¼Œä½†å½“æœåŠ¡å™¨ä¸æµ‹é€ŸèŠ‚ç‚¹ç›¸è·è¾ƒè¿œæ—¶ç»“æœä¸å¦‚ [speedtest.net](https://www.speedtest.net) å®˜æ–¹ CLIã€‚

| å‚æ•°                | ä½œç”¨                         | ç¤ºä¾‹                                                               |
|-------------------|----------------------------|------------------------------------------------------------------|
| -s value        | é€šè¿‡ id æŒ‡å®šèŠ‚ç‚¹           | -s 36646                                                         |
| --custom-url value | é€šè¿‡é“¾æ¥æŒ‡å®šèŠ‚ç‚¹              | --custom-url http://5gtest.shangdu.com:8080/speedtest/upload.php |
| -t value          | è®¾ç½®å¹¶å‘è¿æ¥æ•°                   | -t 8                                                             |
| -m                | å¯ç”¨å¤šæœåŠ¡å™¨æ¨¡å¼                   | -m                                                               |
| --no-download     | ç¦ç”¨ä¸‹è½½æµ‹è¯•                     | --no-download                                                    |
| --no-upload       | ç¦ç”¨ä¸Šä¼ æµ‹è¯•                     | --no-upload                                                      |
| --force-http-ping | ä½¿ç”¨ HTTP è¿›è¡Œå¼ºåˆ¶ Pingï¼Œè€Œä¸æ˜¯ ICMP | --force-http-ping                                                |

`-s` å’Œ `--custom-url` äºŒé€‰ä¸€ï¼Œ`--custom-url` åé¢å‚æ•°ä¸ºå®Œæ•´é“¾æ¥ï¼Œå« http(s)ã€ç«¯å£ã€ä»¥ /upload.php ç»“å°¾ï¼›æ¨è `--custom-url`ã€‚

`--force-http-ping` æ¨èåŠ ä¸Šã€‚

èŠ‚ç‚¹ idã€é“¾æ¥å¯åœ¨ [https://www.speedtest.net/api/ios-config.php](https://www.speedtest.net/api/ios-config.php) æŸ¥é˜…ã€‚

ä¾‹å¦‚ï¼š`<server url="http://5gtest.shangdu.com:8080/speedtest/upload.php" lat="34.3287" lon="109.0337" name="Zhengzhou" sponsor="China Unicom HeNan 5G" id="36646" />`ï¼Œåˆ™ id ä¸º `36646`ï¼Œé“¾æ¥ä¸º `http://5gtest.shangdu.com:8080/speedtest/upload.php`ã€‚

#### librespeed-cli

[librespeed-cli](https://github.com/librespeed/speedtest-cli)

| å‚æ•°            | ä½œç”¨                                            | ç¤ºä¾‹                                                                                |
|---------------|-----------------------------------------------|-----------------------------------------------------------------------------------|
| --server-json value | è¿œç¨‹ JSON çš„æœåŠ¡ç«¯åˆ—è¡¨                                | --server-json https://jihulab.com/i-abc/speedtest/-/raw/node/china-education.json |
| --local-json value | æœ¬åœ° JSON çš„æœåŠ¡ç«¯åˆ—è¡¨                                | --local-json /root/librespeed.json                                                |
| --server value     | é€šè¿‡ JSON ä¸­çš„ ID æŒ‡å®šæœåŠ¡ç«¯                           | --server 1                                                                        |
| -4            | ä»…ä½¿ç”¨ IPv4 (é»˜è®¤ false)                           | -4                                                                                |
| -6            | ä»…ä½¿ç”¨ IPv6 (é»˜è®¤ false)                           | -6                                                                                |
| --no-download | ç¦ç”¨ä¸‹è½½æµ‹è¯• (é»˜è®¤ false)                             | --no-download                                                                     |
| --no-upload   | ç¦ç”¨ä¸Šä¼ æµ‹è¯• (é»˜è®¤ false)                             | --no-upload                                                                       |
| --no-icmp     | ä¸ä½¿ç”¨ ICMP Pingã€‚ICMP åœ¨ Linux ä¸‹å·¥ä½œä¸ç¨³å®š (é»˜è®¤ false) | --no-icmp                                                                         |
| --duration    | æµ‹è¯•çš„æŒç»­æ—¶é—´ (ç§’) (é»˜è®¤ 15)                          | --duration 20                                                                     |

`--no-icmp` æ¨èåŠ ä¸Šã€‚

ç°æˆçš„ã€ä¼˜è´¨çš„ librespeed æœåŠ¡ç«¯è¾ƒå°‘ï¼Œè€Œä¸”éœ€è¦è‡ªå·±å†™æœåŠ¡ç«¯åˆ—è¡¨ JSONï¼ŒJSON å†™æ³•å‚ç…§ [å®˜æ–¹](https://github.com/librespeed/speedtest-cli#use-a-custom-backend-server-list)ï¼›å¦‚æœæ˜¯ä¸ªäººæ­å»ºæµ‹é€Ÿã€ä¸ªäººä½¿ç”¨ï¼Œæ¨è iperf3ã€‚

#### iperf3

[iperf3](https://github.com/esnet/iperf)

| å‚æ•°            | ä½œç”¨                  | ç¤ºä¾‹                 |
|---------------|---------------------|--------------------|
| -c ip/host    | æŒ‡å®šæœåŠ¡ç«¯               | -c 103.239.244.210 |
| -p value      | æŒ‡å®šæœåŠ¡ç«¯ç«¯å£             | -p 22222           |
| -P value      | è®¾ç½®å¹¶å‘è¿æ¥æ•°             | -P 8               |
| -t value      | æµ‹è¯•çš„æŒç»­æ—¶é—´ (ç§’) (é»˜è®¤ 10) | -t 20              |
| -O value      | å‰ N ç§’çš„æ•°æ®ä¸è®¡å…¥æœ€ç»ˆç»“æœ     | -O 3               |
| -R            | åå‘æ¨¡å¼ï¼ŒæœåŠ¡å™¨å‘é€ã€å®¢æˆ·ç«¯æ¥æ”¶    | -R                 |
| -4            | ä»…ä½¿ç”¨ IPv4            | -4                 |
| -6            | ä»…ä½¿ç”¨ IPv6            | -6                 |
| -u            | UDPæµ‹è¯•               | -u                 |
| --up-and-down | åŒå‘æµ‹è¯• (è‡ªåˆ›é€‰é¡¹)       | --up-and-down      |

å½“æœåŠ¡ç«¯ç«¯å£ä¸ºé»˜è®¤çš„ 5201 æ—¶ï¼Œ`-p` å¯ä¸åŠ ï¼›`-p` é™¤äº† `-p 22222` æŒ‡å®šä¸€ä¸ªç«¯å£ï¼Œè¿˜èƒ½ `-p 5200-5209` æŒ‡å®šä¸€ä¸ªèŒƒå›´å†…çš„ç«¯å£ã€‚

iperf3 é»˜è®¤æ˜¯å®¢æˆ·ç«¯å‘é€ã€æœåŠ¡ç«¯æ¥æ”¶ï¼Œä¹Ÿå°±æ˜¯æµ‹ä¸Šä¼ ï¼›æƒ³æµ‹ä¸‹è½½å¯åŠ  `-R` å¼€å¯åå‘æ¨¡å¼ï¼›ä½† iperf3 åªæ”¯æŒå•å‘ï¼Œæ‰€ä»¥è„šæœ¬é‡Œè‡ªåˆ›äº† `--up-and-down` é€‰é¡¹ï¼ŒåŠ ä¸Šåå¯æµ‹åŒå‘ï¼›`--up-and-down` ä¸ `-R` äºŒé€‰ä¸€ï¼Œä¸” `--up-and-down` åœ¨æœ¬è„šæœ¬ä»¥å¤–çš„åœ°æ–¹ä¸å¯ç”¨ï¼Œéå®˜æ–¹é€‰é¡¹ã€‚

ç°æˆçš„ã€ä¼˜è´¨çš„ iperf3 æœåŠ¡ç«¯å¾ˆå¤šï¼Œå¯åœ¨ [iPerf3 Server List](https://iperf3serverlist.net) æŸ¥é˜…ï¼›è‡ªå»º iperf3 æœåŠ¡ç«¯ä¹Ÿç®€å•ï¼Œç”¨åŒ…ç®¡ç†å™¨å°±è¡Œäº†ã€‚

## èŠ‚ç‚¹é›†åˆè¡¨ (éå¿…éœ€)

å½“ä½ æœ‰å¾ˆå¤šèŠ‚ç‚¹è¡¨æ—¶å¯ä»¥ç»„ä¸€ä¸ªèŠ‚ç‚¹è¡¨åˆé›†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“ç„¶è¿™ä¸æ˜¯å¿…éœ€çš„ã€‚

![](https://github.com/i-abc/Speedtest/raw/main/images/3.png)

### ç¤ºä¾‹

```
1. èŠ‚ç‚¹ç¤ºä¾‹
/root/GitHub/speedtest/node-template-1.txt
2. ç¤ºä¾‹1
/root/GitHub/speedtest/node-template-01.txt
3. ç¤ºä¾‹2
/root/GitHub/speedtest/node-template-02.txt
```

æ¯ä¸¤è¡Œä¸ºä¸€ç»„ï¼Œæ¯ç»„ä¸­çš„ç¬¬ä¸€è¡Œä»¥åºå·åŠ è‹±æ–‡ç‚¹ `.` å¼€å¤´ï¼Œç¬¬äºŒè¡Œä¸ºèŠ‚ç‚¹è¡¨é“¾æ¥ï¼Œé“¾æ¥å¯ä¸ºè¿œç¨‹ http æˆ–æœ¬åœ°ç»å¯¹è·¯å¾„ã€‚

èŠ‚ç‚¹é›†åˆè¡¨ä¸è¾“å‡ºä¹‹é—´çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](https://github.com/i-abc/Speedtest/raw/main/images/5.png)

## ä½¿ç”¨è‡ªå®šä¹‰çš„è¡¨

æˆ‘ä»¬ç°åœ¨æœ‰äº†èŠ‚ç‚¹è¡¨ã€èŠ‚ç‚¹é›†åˆè¡¨ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ

åªéœ€é€‰æ‹©æ—¶è¾“å…¥åºå· `0`ï¼Œç„¶åå¡«å†™é“¾æ¥æˆ–æœ¬åœ°ç»å¯¹è·¯å¾„å³å¯ï¼›é“¾æ¥ä¸ºèŠ‚ç‚¹è¡¨å°±ç«‹å³å¼€å§‹æµ‹è¯•ï¼Œé“¾æ¥ä¸ºèŠ‚ç‚¹é›†åˆè¡¨å°±è¿˜ä¼šå‡ºç°é€‰æ‹©èŠ‚ç‚¹çš„æç¤ºã€‚

![](https://github.com/i-abc/Speedtest/raw/main/images/6.png)
